{"swagger":"2.0","info":{"title":"Manager Service","description":"This service manages the ADs","version":"0.0.1"},"host":"localhost:8000","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/ad":{"get":{"tags":["manager"],"summary":"List all ADs by filter","description":"List all ADs by filter","operationId":"manager#list_ads","parameters":[{"name":"offset","in":"query","description":"Offset of AD","required":true,"type":"integer","default":0,"minimum":0},{"name":"limit","in":"query","description":"Limit of AD","required":true,"type":"integer","default":5,"minimum":1},{"name":"age_start","in":"query","description":"Start age of target","required":false,"type":"integer","maximum":100,"minimum":1},{"name":"age_end","in":"query","description":"End age of target","required":false,"type":"integer","maximum":100,"minimum":1},{"name":"gender","in":"query","description":"Gender of target","required":false,"type":"array","items":{"type":"string","pattern":"M|F"},"collectionFormat":"multi"},{"name":"country","in":"query","description":"Country of target","required":false,"type":"array","items":{"type":"string","pattern":"TW|JP"},"collectionFormat":"multi"},{"name":"platform","in":"query","description":"Platform of target","required":false,"type":"array","items":{"type":"string","pattern":"ios|android|web"},"collectionFormat":"multi"}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"$ref":"#/definitions/AdResponse"}}}},"schemes":["http"]},"post":{"tags":["manager"],"summary":"Create a new AD","description":"Create a new edge","operationId":"manager#create_ad","parameters":[{"name":"create_ad_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/ManagerCreateAdRequestBody","required":["title","start_at","end_at"]}}],"responses":{"201":{"description":"Created response.","schema":{"$ref":"#/definitions/ManagerCreateAdResponseBody","required":["id"]}}},"schemes":["http"]}}},"definitions":{"AdResponse":{"title":"AdResponse","type":"object","properties":{"end_at":{"type":"string","description":"End time of AD","example":"2024-12-10T03:00:00.000Z","format":"date-time"},"title":{"type":"string","description":"Title of AD","example":"AD 1","minLength":1,"maxLength":100}},"description":"List all ads by filter","example":{"end_at":"2024-12-10T03:00:00.000Z","title":"AD 1"},"required":["title","end_at"]},"ManagerCreateAdRequestBody":{"title":"ManagerCreateAdRequestBody","type":"object","properties":{"conditions":{"type":"object","properties":{"age_end":{"type":"integer","description":"End age of target","example":60,"format":"int64","minimum":1,"maximum":100},"age_start":{"type":"integer","description":"Start age of target","example":18,"format":"int64","minimum":1,"maximum":100},"country":{"type":"array","items":{"type":"string","example":"TW","pattern":"TW|JP"},"description":"Country of target","example":["TW","JP"]},"gender":{"type":"array","items":{"type":"string","example":"F","pattern":"M|F"},"description":"Gender of target","example":["M","F"]},"platform":{"type":"array","items":{"type":"string","example":"ios","pattern":"ios|android|web"},"description":"Platform of target","example":["ios","android","web"]}},"example":{"age_end":60,"age_start":18,"country":["TW","JP"],"gender":["M","F"],"platform":["ios","android","web"]}},"end_at":{"type":"string","description":"End time of AD","example":"2024-12-10T03:00:00.000Z","format":"date-time"},"start_at":{"type":"string","description":"Start time of AD","example":"2024-03-10T03:00:00.000Z","format":"date-time"},"title":{"type":"string","description":"Title of AD","example":"AD 1","minLength":1,"maxLength":100}},"example":{"conditions":{"age_end":60,"age_start":18,"country":["TW","JP"],"gender":["M","F"],"platform":["ios","android","web"]},"end_at":"2024-12-10T03:00:00.000Z","start_at":"2024-03-10T03:00:00.000Z","title":"AD 1"},"required":["title","start_at","end_at"]},"ManagerCreateAdResponseBody":{"title":"ManagerCreateAdResponseBody","type":"object","properties":{"id":{"type":"string","description":"ID of the AD","example":"34"}},"example":{"id":"34"},"required":["id"]}}}