{"openapi":"3.0.3","info":{"title":"AD Service","description":"This service provides the AD service","version":"0.0.1"},"servers":[{"url":"http://localhost:8000"}],"paths":{"/ad":{"get":{"tags":["advertise"],"summary":"List all ADs by filter","description":"List all ADs by filter","operationId":"advertise#list","parameters":[{"name":"offset","in":"query","description":"Offset of AD","allowEmptyValue":true,"required":true,"schema":{"type":"integer","description":"Offset of AD","default":0,"example":0,"format":"int64","minimum":0},"example":0},{"name":"limit","in":"query","description":"Limit of AD","allowEmptyValue":true,"required":true,"schema":{"type":"integer","description":"Limit of AD","default":5,"example":10,"format":"int64","minimum":1},"example":10},{"name":"age_start","in":"query","description":"Start age of target","allowEmptyValue":true,"schema":{"type":"integer","description":"Start age of target","example":18,"format":"int64","minimum":1,"maximum":100},"example":18},{"name":"age_end","in":"query","description":"End age of target","allowEmptyValue":true,"schema":{"type":"integer","description":"End age of target","example":60,"format":"int64","minimum":1,"maximum":100},"example":60},{"name":"gender","in":"query","description":"Gender of target","allowEmptyValue":true,"schema":{"type":"string","description":"Gender of target","example":"M","enum":["M","F"]},"example":"M"},{"name":"country","in":"query","description":"Country of target","allowEmptyValue":true,"schema":{"type":"string","description":"Country of target","example":"TW","enum":["TW","JP"]},"example":"TW"},{"name":"platform","in":"query","description":"Platform of target","allowEmptyValue":true,"schema":{"type":"string","description":"Platform of target","example":"ios","enum":["ios","android","web"]},"example":"ios"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Ads"},"example":[{"end_at":"2024-12-10T03:00:00.000Z","title":"AD 1"},{"end_at":"2024-12-10T03:00:00.000Z","title":"AD 1"},{"end_at":"2024-12-10T03:00:00.000Z","title":"AD 1"},{"end_at":"2024-12-10T03:00:00.000Z","title":"AD 1"}]},"example":[{"end_at":"2024-12-10T03:00:00.000Z","title":"AD 1"},{"end_at":"2024-12-10T03:00:00.000Z","title":"AD 1"}]}}}}},"post":{"tags":["advertise"],"summary":"Create a new AD","description":"Create a new edge","operationId":"advertise#create","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRequestBody"},"example":{"conditions":{"age_end":60,"age_start":18,"country":"TW","gender":"M","platform":"ios"},"end_at":"2024-12-10T03:00:00.000Z","start_at":"2024-03-10T03:00:00.000Z","title":"AD 1"}}}},"responses":{"201":{"description":"Created response."}}}}},"components":{"schemas":{"Ads":{"type":"object","properties":{"end_at":{"type":"string","description":"End time of AD","example":"2024-12-10T03:00:00.000Z","format":"date-time"},"title":{"type":"string","description":"Title of AD","example":"AD 1","minLength":1,"maxLength":100}},"description":"List all ads by filter","example":{"end_at":"2024-12-10T03:00:00.000Z","title":"AD 1"},"required":["title","end_at"]},"CreateRequestBody":{"type":"object","properties":{"conditions":{"type":"object","properties":{"age_end":{"type":"integer","description":"End age of target","example":60,"format":"int64","minimum":1,"maximum":100},"age_start":{"type":"integer","description":"Start age of target","example":18,"format":"int64","minimum":1,"maximum":100},"country":{"type":"string","description":"Country of target","example":"TW","enum":["TW","JP"]},"gender":{"type":"string","description":"Gender of target","example":"M","enum":["M","F"]},"platform":{"type":"string","description":"Platform of target","example":"ios","enum":["ios","android","web"]}},"example":{"age_end":60,"age_start":18,"country":"TW","gender":"M","platform":"ios"}},"end_at":{"type":"string","description":"End time of AD","example":"2024-12-10T03:00:00.000Z","format":"date-time"},"start_at":{"type":"string","description":"Start time of AD","example":"2024-03-10T03:00:00.000Z","format":"date-time"},"title":{"type":"string","description":"Title of AD","example":"AD 1","minLength":1,"maxLength":100}},"example":{"conditions":{"age_end":60,"age_start":18,"country":"TW","gender":"M","platform":"ios"},"end_at":"2024-12-10T03:00:00.000Z","start_at":"2024-03-10T03:00:00.000Z","title":"AD 1"},"required":["title","start_at","end_at"]}}},"tags":[{"name":"advertise"}]}